# Загрузчик по wbapi с выгрузкой данных в google sheets

Этот скрипт получает данные по wbapi, заносит их в бд postgres, google sheets и обновляет данные каждый час при их изменении

## Инструкция

### Docker desktop

Скачайте и установите [docker desktop](https://www.docker.com/get-started/)

### Клонирование проекта
Откройте терминал или командную строку и перейдите в директорию, куда вы хотите поместить проект
```bash
cd /path/to/your/directory
```

### Склонируйте репозиторий с GitHub
Введите в терминале

```bash
git clone https://github.com/ArthurDentPhillip/test.git
```
Можно обойтись без клонирования, скачав архив с проектом

### Перейдите в директорию склонированного репозитория
Введите в терминале

```bash
cd your-repo
```

### Откройте VS Code


- **Из терминала**: Если у вас установлен VS Code и добавлен в PATH, вы можете открыть его прямо из терминала:

    ```bash
    code .
    ```

- **Из файлового менеджера**: Перейдите в директорию склонированного репозитория, щелкните правой кнопкой мыши и выберите "Open with Code".
   
- **Из самого VS Code**: Откройте VS Code, затем выберите "File" > "Open Folder..." и выберите директорию склонированного репозитория.

### Compose build
Запустите Docker desktop. После этого перейдите в терминал vs code и введите команды:

```bash
cd backend
docker compose build
```
В результате контейнеры соберутся заново

### Примените миграции к вашей бд
Введите в терминале следующую команду:

```bash
docker compose run --rm backend npx prisma migrate deploy
```

### Запуск контейнеров
Далее введите следующую команду:

```bash
docker compose up -d
```

Если контейнеры запустились без ошибок, перейдите на
```bash
http://localhost:4000/test
```
чтобы запустить скрипт. И на
```bash
http://localhost:4000/test3
```
чтобы увидеть результат его выполнения